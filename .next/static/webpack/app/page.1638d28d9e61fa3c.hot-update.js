"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/features/editor/player/composition.tsx":
/*!****************************************************!*\
  !*** ./src/features/editor/player/composition.tsx ***!
  \****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./src/features/editor/store/use-store.ts\");\n/* harmony import */ var _store_use_layout_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/use-layout-store */ \"(app-pages-browser)/./src/features/editor/store/use-layout-store.ts\");\n/* harmony import */ var _sequence_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sequence-item */ \"(app-pages-browser)/./src/features/editor/player/sequence-item.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/merge */ \"(app-pages-browser)/./node_modules/lodash/merge.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils_track_items__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/track-items */ \"(app-pages-browser)/./src/features/editor/utils/track-items.ts\");\n/* harmony import */ var _utils_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/text */ \"(app-pages-browser)/./src/features/editor/utils/text.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst Composition = ()=>{\n    _s();\n    const [editableTextId, setEditableTextId] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const { trackItemIds, trackItemsMap, fps, trackItemDetailsMap, sceneMoveableRef, transitionsMap } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const { activeAudioMode, instrumentsEnabled } = (0,_store_use_layout_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const mergedTrackItemsDeatilsMap = lodash_merge__WEBPACK_IMPORTED_MODULE_7___default()(trackItemsMap, trackItemDetailsMap);\n    const groupedItems = (0,_utils_track_items__WEBPACK_IMPORTED_MODULE_8__.groupTrackItems)({\n        trackItemIds,\n        transitionsMap,\n        trackItemsMap: mergedTrackItemsDeatilsMap\n    });\n    const handleTextChange = (id)=>{\n        var _elRef_firstElementChild_firstElementChild, _elRef_firstElementChild, _sceneMoveableRef_current, _sceneMoveableRef_current1;\n        const elRef = document.querySelector(\".id-\".concat(id));\n        const textDiv = (_elRef_firstElementChild = elRef.firstElementChild) === null || _elRef_firstElementChild === void 0 ? void 0 : (_elRef_firstElementChild_firstElementChild = _elRef_firstElementChild.firstElementChild) === null || _elRef_firstElementChild_firstElementChild === void 0 ? void 0 : _elRef_firstElementChild_firstElementChild.firstElementChild;\n        const { fontFamily, fontSize, fontWeight, letterSpacing, lineHeight, textShadow, webkitTextStroke } = textDiv.style;\n        const { width } = elRef.style;\n        if (!elRef.innerText) return;\n        const newHeight = (0,_utils_text__WEBPACK_IMPORTED_MODULE_9__.calculateTextHeight)({\n            family: fontFamily,\n            fontSize,\n            fontWeight,\n            letterSpacing,\n            lineHeight,\n            text: elRef.innerText,\n            textShadow: textShadow,\n            webkitTextStroke,\n            width,\n            id: id\n        });\n        elRef.style.height = \"\".concat(newHeight, \"px\");\n        sceneMoveableRef === null || sceneMoveableRef === void 0 ? void 0 : (_sceneMoveableRef_current = sceneMoveableRef.current) === null || _sceneMoveableRef_current === void 0 ? void 0 : _sceneMoveableRef_current.moveable.updateRect();\n        sceneMoveableRef === null || sceneMoveableRef === void 0 ? void 0 : (_sceneMoveableRef_current1 = sceneMoveableRef.current) === null || _sceneMoveableRef_current1 === void 0 ? void 0 : _sceneMoveableRef_current1.moveable.forceUpdate();\n    };\n    const onTextBlur = (id)=>{\n        var _elRef_firstElementChild_firstElementChild, _elRef_firstElementChild;\n        const elRef = document.querySelector(\".id-\".concat(id));\n        const textDiv = (_elRef_firstElementChild = elRef.firstElementChild) === null || _elRef_firstElementChild === void 0 ? void 0 : (_elRef_firstElementChild_firstElementChild = _elRef_firstElementChild.firstElementChild) === null || _elRef_firstElementChild_firstElementChild === void 0 ? void 0 : _elRef_firstElementChild_firstElementChild.firstElementChild;\n        const { fontFamily, fontSize, fontWeight, letterSpacing, lineHeight, textShadow, webkitTextStroke } = textDiv.style;\n        const { width } = elRef.style;\n        if (!elRef.innerText) return;\n        const newHeight = (0,_utils_text__WEBPACK_IMPORTED_MODULE_9__.calculateTextHeight)({\n            family: fontFamily,\n            fontSize,\n            fontWeight,\n            letterSpacing,\n            lineHeight,\n            text: elRef.innerText,\n            textShadow: textShadow,\n            webkitTextStroke,\n            width,\n            id: id\n        });\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_5__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_6__.EDIT_OBJECT, {\n            payload: {\n                [id]: {\n                    details: {\n                        height: newHeight\n                    }\n                }\n            }\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        const stateEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_5__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_5__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_state__WEBPACK_IMPORTED_MODULE_6__.ENTER_EDIT_MODE);\n        }));\n        const subscription = stateEvents.subscribe((obj)=>{\n            if (obj.key === _designcombo_state__WEBPACK_IMPORTED_MODULE_6__.ENTER_EDIT_MODE) {\n                var _obj_value;\n                if (editableTextId) {\n                    const element = document.querySelector('[data-text-id=\"'.concat(editableTextId, '\"]'));\n                    if (trackItemIds.includes(editableTextId)) {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_5__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_6__.EDIT_OBJECT, {\n                            payload: {\n                                [editableTextId]: {\n                                    details: {\n                                        text: (element === null || element === void 0 ? void 0 : element.innerHTML) || \"\"\n                                    }\n                                }\n                            }\n                        });\n                    } else {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_5__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_6__.EDIT_TEMPLATE_ITEM, {\n                            payload: {\n                                [editableTextId]: {\n                                    details: {\n                                        text: (element === null || element === void 0 ? void 0 : element.textContent) || \"\"\n                                    }\n                                }\n                            }\n                        });\n                    }\n                }\n                setEditableTextId((_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : _obj_value.payload.id);\n            }\n        });\n        return ()=>subscription.unsubscribe();\n    }, [\n        editableTextId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: groupedItems.map((group)=>{\n            if (group.length === 1) {\n                const item = mergedTrackItemsDeatilsMap[group[0].id];\n                return _sequence_item__WEBPACK_IMPORTED_MODULE_3__.SequenceItem[item.type](item, {\n                    fps,\n                    handleTextChange,\n                    onTextBlur,\n                    editableTextId,\n                    activeAudioMode,\n                    instrumentsEnabled,\n                    zIndex: 1\n                });\n            }\n            return null;\n        })\n    }, void 0, false);\n};\n_s(Composition, \"P7CD7qYESo/35dDIrUsQLhiH8+c=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        _store_use_layout_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    ];\n});\n_c = Composition;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Composition);\nvar _c;\n$RefreshReg$(_c, \"Composition\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9mZWF0dXJlcy9lZGl0b3IvcGxheWVyL2NvbXBvc2l0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFMEM7QUFDYTtBQUNSO0FBQ0g7QUFDb0I7QUFLcEM7QUFDRztBQUN3QjtBQUNIO0FBRXBELE1BQU1jLGNBQWM7O0lBQ2xCLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR1osK0NBQVFBLENBQWdCO0lBRXBFLE1BQU0sRUFDSmEsWUFBWSxFQUNaQyxhQUFhLEVBQ2JDLEdBQUcsRUFDSEMsbUJBQW1CLEVBQ25CQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZixHQUFHdEIsNERBQVFBO0lBRVosTUFBTSxFQUFFdUIsZUFBZSxFQUFFQyxrQkFBa0IsRUFBRSxHQUFHdkIsbUVBQWNBO0lBRTlELE1BQU13Qiw2QkFBNkJkLG1EQUFLQSxDQUFDTyxlQUFlRTtJQUV4RCxNQUFNTSxlQUFlZCxtRUFBZUEsQ0FBQztRQUNuQ0s7UUFDQUs7UUFDQUosZUFBZU87SUFDakI7SUFFQSxNQUFNRSxtQkFBbUIsQ0FBQ0M7WUFFUkMsNENBQUFBLDBCQTJCaEJSLDJCQUNBQTtRQTdCQSxNQUFNUSxRQUFRQyxTQUFTQyxhQUFhLENBQUMsT0FBVSxPQUFISDtRQUM1QyxNQUFNSSxXQUFVSCwyQkFBQUEsTUFBTUksaUJBQWlCLGNBQXZCSixnREFBQUEsNkNBQUFBLHlCQUF5QkksaUJBQWlCLGNBQTFDSixpRUFBQUEsMkNBQ1pJLGlCQUFpQjtRQUVyQixNQUFNLEVBQ0pDLFVBQVUsRUFDVkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLGdCQUFnQixFQUNqQixHQUFHUixRQUFRUyxLQUFLO1FBQ2pCLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdiLE1BQU1ZLEtBQUs7UUFDN0IsSUFBSSxDQUFDWixNQUFNYyxTQUFTLEVBQUU7UUFDdEIsTUFBTUMsWUFBWS9CLGdF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R1csYUFBYTBDLEdBQUcsQ0FBQyxDQUFDQztZQUNqQixJQUFJQSxNQUFNQyxNQUFNLEtBQUssR0FBRztnQkFDdEIsTUFBTUMsT0FBTzlDLDBCQUEwQixDQUFDNEMsS0FBSyxDQUFDLEVBQUUsQ0FBQ3pDLEVBQUUsQ0FBQztnQkFDcEQsT0FBTzFCLHdEQUFZLENBQUNxRSxLQUFLQyxJQUFJLENBQUMsQ0FBQ0QsTUFBTTtvQkFDbkNwRDtvQkFDQVE7b0JBQ0F5QjtvQkFDQXJDO29CQUNBUTtvQkFDQUM7b0JBQ0FpRCxRQUFRO2dCQUNWO1lBQ0Y7WUFDQSxPQUFPO1FBQ1Q7O0FBR047R0F2Sk0zRDs7UUFVQWQsd0RBQVFBO1FBRW9DQywrREFBY0E7OztLQVoxRGE7QUF5Sk4sK0RBQWVBLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2ZlYXR1cmVzL2VkaXRvci9wbGF5ZXIvY29tcG9zaXRpb24udHN4PzlkZGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgdXNlTGF5b3V0U3RvcmUgZnJvbSBcIi4uL3N0b3JlL3VzZS1sYXlvdXQtc3RvcmVcIjtcbmltcG9ydCB7IFNlcXVlbmNlSXRlbSB9IGZyb20gXCIuL3NlcXVlbmNlLWl0ZW1cIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGRpc3BhdGNoLCBmaWx0ZXIsIHN1YmplY3QgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHtcbiAgRURJVF9PQkpFQ1QsXG4gIEVESVRfVEVNUExBVEVfSVRFTSxcbiAgRU5URVJfRURJVF9NT0RFLFxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IGdyb3VwVHJhY2tJdGVtcyB9IGZyb20gXCIuLi91dGlscy90cmFjay1pdGVtc1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlVGV4dEhlaWdodCB9IGZyb20gXCIuLi91dGlscy90ZXh0XCI7XG5cbmNvbnN0IENvbXBvc2l0aW9uID0gKCkgPT4ge1xuICBjb25zdCBbZWRpdGFibGVUZXh0SWQsIHNldEVkaXRhYmxlVGV4dElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBcbiAgY29uc3Qge1xuICAgIHRyYWNrSXRlbUlkcyxcbiAgICB0cmFja0l0ZW1zTWFwLFxuICAgIGZwcyxcbiAgICB0cmFja0l0ZW1EZXRhaWxzTWFwLFxuICAgIHNjZW5lTW92ZWFibGVSZWYsXG4gICAgdHJhbnNpdGlvbnNNYXAsXG4gIH0gPSB1c2VTdG9yZSgpO1xuICBcbiAgY29uc3QgeyBhY3RpdmVBdWRpb01vZGUsIGluc3RydW1lbnRzRW5hYmxlZCB9ID0gdXNlTGF5b3V0U3RvcmUoKTtcbiAgXG4gIGNvbnN0IG1lcmdlZFRyYWNrSXRlbXNEZWF0aWxzTWFwID0gbWVyZ2UodHJhY2tJdGVtc01hcCwgdHJhY2tJdGVtRGV0YWlsc01hcCk7XG5cbiAgY29uc3QgZ3JvdXBlZEl0ZW1zID0gZ3JvdXBUcmFja0l0ZW1zKHtcbiAgICB0cmFja0l0ZW1JZHMsXG4gICAgdHJhbnNpdGlvbnNNYXAsXG4gICAgdHJhY2tJdGVtc01hcDogbWVyZ2VkVHJhY2tJdGVtc0RlYXRpbHNNYXAsXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZVRleHRDaGFuZ2UgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVsUmVmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmlkLSR7aWR9YCkgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgY29uc3QgdGV4dERpdiA9IGVsUmVmLmZpcnN0RWxlbWVudENoaWxkPy5maXJzdEVsZW1lbnRDaGlsZFxuICAgICAgPy5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRGl2RWxlbWVudDtcblxuICAgIGNvbnN0IHtcbiAgICAgIGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHRTaGFkb3csXG4gICAgICB3ZWJraXRUZXh0U3Ryb2tlLFxuICAgIH0gPSB0ZXh0RGl2LnN0eWxlO1xuICAgIGNvbnN0IHsgd2lkdGggfSA9IGVsUmVmLnN0eWxlO1xuICAgIGlmICghZWxSZWYuaW5uZXJUZXh0KSByZXR1cm47XG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gY2FsY3VsYXRlVGV4dEhlaWdodCh7XG4gICAgICBmYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHQ6IGVsUmVmLmlubmVyVGV4dCEsXG4gICAgICB0ZXh0U2hhZG93OiB0ZXh0U2hhZG93LFxuICAgICAgd2Via2l0VGV4dFN0cm9rZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaWQ6IGlkLFxuICAgIH0pO1xuICAgIGVsUmVmLnN0eWxlLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XG4gICAgc2NlbmVNb3ZlYWJsZVJlZj8uY3VycmVudD8ubW92ZWFibGUudXBkYXRlUmVjdCgpO1xuICAgIHNjZW5lTW92ZWFibGVSZWY/LmN1cnJlbnQ/Lm1vdmVhYmxlLmZvcmNlVXBkYXRlKCk7XG4gIH07XG5cbiAgY29uc3Qgb25UZXh0Qmx1ciA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZWxSZWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaWQtJHtpZH1gKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBjb25zdCB0ZXh0RGl2ID0gZWxSZWYuZmlyc3RFbGVtZW50Q2hpbGQ/LmZpcnN0RWxlbWVudENoaWxkXG4gICAgICA/LmZpcnN0RWxlbWVudENoaWxkIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHRTaGFkb3csXG4gICAgICB3ZWJraXRUZXh0U3Ryb2tlLFxuICAgIH0gPSB0ZXh0RGl2LnN0eWxlO1xuICAgIGNvbnN0IHsgd2lkdGggfSA9IGVsUmVmLnN0eWxlO1xuICAgIGlmICghZWxSZWYuaW5uZXJUZXh0KSByZXR1cm47XG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gY2FsY3VsYXRlVGV4dEhlaWdodCh7XG4gICAgICBmYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHQ6IGVsUmVmLmlubmVyVGV4dCEsXG4gICAgICB0ZXh0U2hhZG93OiB0ZXh0U2hhZG93LFxuICAgICAgd2Via2l0VGV4dFN0cm9rZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaWQ6IGlkLFxuICAgIH0pO1xuICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIFtpZF06IHtcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG5ld0hlaWdodCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlRXZlbnRzID0gc3ViamVjdC5waXBlKFxuICAgICAgZmlsdGVyKCh7IGtleSB9KSA9PiBrZXkuc3RhcnRzV2l0aChFTlRFUl9FRElUX01PREUpKSxcbiAgICApO1xuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gc3RhdGVFdmVudHMuc3Vic2NyaWJlKChvYmopID0+IHtcbiAgICAgIGlmIChvYmoua2V5ID09PSBFTlRFUl9FRElUX01PREUpIHtcbiAgICAgICAgaWYgKGVkaXRhYmxlVGV4dElkKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgW2RhdGEtdGV4dC1pZD1cIiR7ZWRpdGFibGVUZXh0SWR9XCJdYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh0cmFja0l0ZW1JZHMuaW5jbHVkZXMoZWRpdGFibGVUZXh0SWQpKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChFRElUX09CSkVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgW2VkaXRhYmxlVGV4dElkXToge1xuICAgICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBlbGVtZW50Py5pbm5lckhUTUwgfHwgXCJcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwYXRjaChFRElUX1RFTVBMQVRFX0lURU0sIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIFtlZGl0YWJsZVRleHRJZF06IHtcbiAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogZWxlbWVudD8udGV4dENvbnRlbnQgfHwgXCJcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRFZGl0YWJsZVRleHRJZChvYmoudmFsdWU/LnBheWxvYWQuaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfSwgW2VkaXRhYmxlVGV4dElkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2dyb3VwZWRJdGVtcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgIGlmIChncm91cC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gbWVyZ2VkVHJhY2tJdGVtc0RlYXRpbHNNYXBbZ3JvdXBbMF0uaWRdO1xuICAgICAgICAgIHJldHVybiBTZXF1ZW5jZUl0ZW1baXRlbS50eXBlXShpdGVtLCB7XG4gICAgICAgICAgICBmcHMsXG4gICAgICAgICAgICBoYW5kbGVUZXh0Q2hhbmdlLFxuICAgICAgICAgICAgb25UZXh0Qmx1cixcbiAgICAgICAgICAgIGVkaXRhYmxlVGV4dElkLFxuICAgICAgICAgICAgYWN0aXZlQXVkaW9Nb2RlLFxuICAgICAgICAgICAgaW5zdHJ1bWVudHNFbmFibGVkLFxuICAgICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSl9XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGlvbjtcbiJdLCJuYW1lcyI6WyJ1c2VTdG9yZSIsInVzZUxheW91dFN0b3JlIiwiU2VxdWVuY2VJdGVtIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJkaXNwYXRjaCIsImZpbHRlciIsInN1YmplY3QiLCJFRElUX09CSkVDVCIsIkVESVRfVEVNUExBVEVfSVRFTSIsIkVOVEVSX0VESVRfTU9ERSIsIm1lcmdlIiwiZ3JvdXBUcmFja0l0ZW1zIiwiY2FsY3VsYXRlVGV4dEhlaWdodCIsIkNvbXBvc2l0aW9uIiwiZWRpdGFibGVUZXh0SWQiLCJzZXRFZGl0YWJsZVRleHRJZCIsInRyYWNrSXRlbUlkcyIsInRyYWNrSXRlbXNNYXAiLCJmcHMiLCJ0cmFja0l0ZW1EZXRhaWxzTWFwIiwic2NlbmVNb3ZlYWJsZVJlZiIsInRyYW5zaXRpb25zTWFwIiwiYWN0aXZlQXVkaW9Nb2RlIiwiaW5zdHJ1bWVudHNFbmFibGVkIiwibWVyZ2VkVHJhY2tJdGVtc0RlYXRpbHNNYXAiLCJncm91cGVkSXRlbXMiLCJoYW5kbGVUZXh0Q2hhbmdlIiwiaWQiLCJlbFJlZiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHREaXYiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsInRleHRTaGFkb3ciLCJ3ZWJraXRUZXh0U3Ryb2tlIiwic3R5bGUiLCJ3aWR0aCIsImlubmVyVGV4dCIsIm5ld0hlaWdodCIsImZhbWlseSIsInRleHQiLCJoZWlnaHQiLCJjdXJyZW50IiwibW92ZWFibGUiLCJ1cGRhdGVSZWN0IiwiZm9yY2VVcGRhdGUiLCJvblRleHRCbHVyIiwicGF5bG9hZCIsImRldGFpbHMiLCJzdGF0ZUV2ZW50cyIsInBpcGUiLCJrZXkiLCJzdGFydHNXaXRoIiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwib2JqIiwiZWxlbWVudCIsImluY2x1ZGVzIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInVuc3Vic2NyaWJlIiwibWFwIiwiZ3JvdXAiLCJsZW5ndGgiLCJpdGVtIiwidHlwZSIsInpJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/features/editor/player/composition.tsx\n"));

/***/ })

});